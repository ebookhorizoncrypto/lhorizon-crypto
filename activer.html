<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activation Discord | L'Horizon Crypto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Space Grotesk', sans-serif;
            background-color: #0a0a0f;
            color: white;
        }

        .blur-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(120px);
            opacity: 0.1;
            z-index: 0;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden relative">

    <!-- Background Ambience -->
    <div class="blur-orb bg-[#f7931a] w-[600px] h-[600px] top-[-20%] left-[-10%]"></div>
    <div class="blur-orb bg-[#9945ff] w-[500px] h-[500px] bottom-[-20%] right-[-10%]"></div>

    <div
        class="z-10 max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl relative">

        <!-- Header -->
        <div class="text-center mb-8">
            <div
                class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-[#5865F2] to-[#404EED] mb-4 shadow-lg shadow-indigo-500/30">
                <svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" />
                </svg>
            </div>
            <h1 class="text-2xl font-bold mb-2">Activation Discord</h1>
            <p class="text-gray-400 text-sm">
                Reliez votre compte pour accéder à votre espace membre L'Horizon Crypto.
            </p>
        </div>

        <!-- Benefits -->
        <div class="space-y-4 mb-8">
            <div class="flex items-start gap-4 p-3 rounded-lg bg-white/5 border border-white/5">
                <span class="text-[#00ff88]">✓</span>
                <div>
                    <h3 class="text-sm font-semibold text-white">Vérification Automatique</h3>
                    <p class="text-xs text-gray-400">Nous validons votre achat instantanément.</p>
                </div>
            </div>
            <div class="flex items-start gap-4 p-3 rounded-lg bg-white/5 border border-white/5">
                <span class="text-[#f7931a]">⚡</span>
                <div>
                    <h3 class="text-sm font-semibold text-white">Accès Immédiat</h3>
                    <p class="text-xs text-gray-400">Vos rôles sont débloqués en quelques secondes.</p>
                </div>
            </div>
        </div>

        <!-- Action Button -->
        <button id="discord-btn" onclick="startDiscordLogin()"
            class="w-full group relative flex items-center justify-center gap-3 bg-[#5865F2] hover:bg-[#4752C4] text-white font-medium py-3.5 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-[#5865F2]/25">
            <span id="btn-text" class="text-lg">Connecter mon Discord</span>
            <span id="btn-spinner"
                class="hidden w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></span>
        </button>

        <p class="mt-6 text-center text-xs text-gray-500">
            En continuant, vous acceptez de rejoindre notre serveur Discord officiel.
        </p>
    </div>

    <footer class="mt-8 text-center text-xs text-gray-600 z-10">
        &copy; 2026 L'Horizon Crypto. Tous droits réservés.
    </footer>

    <script>
        function startDiscordLogin() {
            const btn = document.getElementById('discord-btn');
            const text = document.getElementById('btn-text');
            const spinner = document.getElementById('btn-spinner');

            btn.disabled = true;
            btn.classList.add('opacity-70', 'cursor-not-allowed');
            text.textContent = 'Connexion...';
            spinner.classList.remove('hidden');

            // Replace with your ENV variables logically or fetch from an endpoint if needed to hide client ID
            // Ideally we hardcode the Public Client ID here
            const CLIENT_ID = '1465251219218890895'; // Updated with User App ID
            const REDIRECT_URI = window.location.origin + '/api/discord-callback';
            const SCOPE = 'identify email guilds.join';

            window.location.href = `https://discord.com/api/oauth2/authorize?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=code&scope=${encodeURIComponent(SCOPE)}&prompt=consent`;
        }
    </script>
</body>

</html>